"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{1320:(M,y,m)=>{m.d(y,{c:()=>d});var r=m(1308),a=m(7864),g=m(1898);const d=(p,e)=>{let t,n;const u=(f,w,_)=>{if(typeof document>"u")return;const s=document.elementFromPoint(f,w);s&&e(s)?s!==t&&(v(),l(s,_)):v()},l=(f,w)=>{t=f,n||(n=t);const _=t;(0,r.c)(()=>_.classList.add("ion-activated")),w()},v=(f=!1)=>{if(!t)return;const w=t;(0,r.c)(()=>w.classList.remove("ion-activated")),f&&n!==t&&t.click(),t=void 0};return(0,g.createGesture)({el:p,gestureName:"buttonActiveDrag",threshold:0,onStart:f=>u(f.currentX,f.currentY,a.a),onMove:f=>u(f.currentX,f.currentY,a.b),onEnd:()=>{v(!0),(0,a.h)(),n=void 0}})}},2225:(M,y,m)=>{m.d(y,{g:()=>r});const r=(e,t,n,u,l)=>g(e[1],t[1],n[1],u[1],l).map(v=>a(e[0],t[0],n[0],u[0],v)),a=(e,t,n,u,l)=>l*(3*t*Math.pow(l-1,2)+l*(-3*n*l+3*n+u*l))-e*Math.pow(l-1,3),g=(e,t,n,u,l)=>p((u-=l)-3*(n-=l)+3*(t-=l)-(e-=l),3*n-6*t+3*e,3*t-3*e,e).filter(f=>f>=0&&f<=1),p=(e,t,n,u)=>{if(0===e)return((e,t,n)=>{const u=t*t-4*e*n;return u<0?[]:[(-t+Math.sqrt(u))/(2*e),(-t-Math.sqrt(u))/(2*e)]})(t,n,u);const l=(3*(n/=e)-(t/=e)*t)/3,v=(2*t*t*t-9*t*n+27*(u/=e))/27;if(0===l)return[Math.pow(-v,1/3)];if(0===v)return[Math.sqrt(-l),-Math.sqrt(-l)];const f=Math.pow(v/2,2)+Math.pow(l/3,3);if(0===f)return[Math.pow(v/2,.5)-t/3];if(f>0)return[Math.pow(-v/2+Math.sqrt(f),1/3)-Math.pow(v/2+Math.sqrt(f),1/3)-t/3];const w=Math.sqrt(Math.pow(-l/3,3)),_=Math.acos(-v/(2*Math.sqrt(Math.pow(-l/3,3)))),s=2*Math.pow(w,1/3);return[s*Math.cos(_/3)-t/3,s*Math.cos((_+2*Math.PI)/3)-t/3,s*Math.cos((_+4*Math.PI)/3)-t/3]}},5062:(M,y,m)=>{m.d(y,{i:()=>r});const r=a=>a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===document?.dir.toLowerCase()},6602:(M,y,m)=>{m.r(y),m.d(y,{startFocusVisible:()=>d});const r="ion-focused",g=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],d=p=>{let e=[],t=!0;const n=p?p.shadowRoot:document,u=p||document.body,l=c=>{e.forEach(i=>i.classList.remove(r)),c.forEach(i=>i.classList.add(r)),e=c},v=()=>{t=!1,l([])},f=c=>{t=g.includes(c.key),t||l([])},w=c=>{if(t&&void 0!==c.composedPath){const i=c.composedPath().filter(h=>!!h.classList&&h.classList.contains("ion-focusable"));l(i)}},_=()=>{n.activeElement===u&&l([])};return n.addEventListener("keydown",f),n.addEventListener("focusin",w),n.addEventListener("focusout",_),n.addEventListener("touchstart",v),n.addEventListener("mousedown",v),{destroy:()=>{n.removeEventListener("keydown",f),n.removeEventListener("focusin",w),n.removeEventListener("focusout",_),n.removeEventListener("touchstart",v),n.removeEventListener("mousedown",v)},setFocus:l}}},7626:(M,y,m)=>{m.d(y,{C:()=>p,a:()=>g,d:()=>d});var r=m(5861),a=m(5730);const g=function(){var e=(0,r.Z)(function*(t,n,u,l,v,f){var w;if(t)return t.attachViewToDom(n,u,v,l);if(!(f||"string"==typeof u||u instanceof HTMLElement))throw new Error("framework delegate is missing");const _="string"==typeof u?null===(w=n.ownerDocument)||void 0===w?void 0:w.createElement(u):u;return l&&l.forEach(s=>_.classList.add(s)),v&&Object.assign(_,v),n.appendChild(_),yield new Promise(s=>(0,a.c)(_,s)),_});return function(n,u,l,v,f,w){return e.apply(this,arguments)}}(),d=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()},p=()=>{let e,t;return{attachViewToDom:function(){var l=(0,r.Z)(function*(v,f,w={},_=[]){var s,c;if(e=v,f){const h="string"==typeof f?null===(s=e.ownerDocument)||void 0===s?void 0:s.createElement(f):f;_.forEach(o=>h.classList.add(o)),Object.assign(h,w),e.appendChild(h),yield new Promise(o=>(0,a.c)(h,o))}else if(e.children.length>0&&!e.children[0].classList.contains("ion-delegate-host")){const o=null===(c=e.ownerDocument)||void 0===c?void 0:c.createElement("div");o.classList.add("ion-delegate-host"),_.forEach(C=>o.classList.add(C)),o.append(...e.children),e.appendChild(o)}const i=document.querySelector("ion-app")||document.body;return t=document.createComment("ionic teleport"),e.parentNode.insertBefore(t,e),i.appendChild(e),e});return function(f,w){return l.apply(this,arguments)}}(),removeViewFromDom:()=>(e&&t&&(t.parentNode.insertBefore(e,t),t.remove()),Promise.resolve())}}},7864:(M,y,m)=>{m.d(y,{a:()=>d,b:()=>p,c:()=>g,d:()=>t,h:()=>e});const r={getEngine(){var n;const u=window;return u.TapticEngine||(null===(n=u.Capacitor)||void 0===n?void 0:n.isPluginAvailable("Haptics"))&&u.Capacitor.Plugins.Haptics},available(){var n;const u=window;return!!this.getEngine()&&("web"!==(null===(n=u.Capacitor)||void 0===n?void 0:n.getPlatform())||typeof navigator<"u"&&void 0!==navigator.vibrate)},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(n){const u=this.getEngine();if(!u)return;const l=this.isCapacitor()?n.style.toUpperCase():n.style;u.impact({style:l})},notification(n){const u=this.getEngine();if(!u)return;const l=this.isCapacitor()?n.style.toUpperCase():n.style;u.notification({style:l})},selection(){this.impact({style:"light"})},selectionStart(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},a=()=>r.available(),g=()=>{a()&&r.selection()},d=()=>{a()&&r.selectionStart()},p=()=>{a()&&r.selectionChanged()},e=()=>{a()&&r.selectionEnd()},t=n=>{a()&&r.impact(n)}},109:(M,y,m)=>{m.d(y,{a:()=>r,b:()=>f,c:()=>t,d:()=>w,e:()=>T,f:()=>e,g:()=>_,h:()=>g,i:()=>a,j:()=>o,k:()=>C,l:()=>n,m:()=>l,n:()=>s,o:()=>u,p:()=>p,q:()=>d,r:()=>h,s:()=>E,t:()=>v,u:()=>c,v:()=>i});const r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 64L144 256l224 192V64z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 368L256 144 64 368h384z'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",T="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8416:(M,y,m)=>{m.d(y,{I:()=>p,a:()=>l,b:()=>e,c:()=>w,d:()=>s,f:()=>v,g:()=>u,i:()=>n,p:()=>_,r:()=>c,s:()=>f});var r=m(5861),a=m(5730),g=m(4147);const p="ion-content",e=".ion-content-scroll-host",t=`${p}, ${e}`,n=i=>"ION-CONTENT"===i.tagName,u=function(){var i=(0,r.Z)(function*(h){return n(h)?(yield new Promise(o=>(0,a.c)(h,o)),h.getScrollElement()):h});return function(o){return i.apply(this,arguments)}}(),l=i=>i.querySelector(e)||i.querySelector(t),v=i=>i.closest(t),f=(i,h)=>n(i)?i.scrollToTop(h):Promise.resolve(i.scrollTo({top:0,left:0,behavior:h>0?"smooth":"auto"})),w=(i,h,o,C)=>n(i)?i.scrollByPoint(h,o,C):Promise.resolve(i.scrollBy({top:o,left:h,behavior:C>0?"smooth":"auto"})),_=i=>(0,g.a)(i,p),s=i=>{if(n(i)){const o=i.scrollY;return i.scrollY=!1,o}return i.style.setProperty("overflow","hidden"),!0},c=(i,h)=>{n(i)?i.scrollY=h:i.style.removeProperty("overflow")}},5234:(M,y,m)=>{m.r(y),m.d(y,{KEYBOARD_DID_CLOSE:()=>a,KEYBOARD_DID_OPEN:()=>r,copyVisualViewport:()=>h,keyboardDidClose:()=>_,keyboardDidOpen:()=>f,keyboardDidResize:()=>w,resetKeyboardAssist:()=>t,setKeyboardClose:()=>v,setKeyboardOpen:()=>l,startKeyboardAssist:()=>n,trackViewportChanges:()=>i});const r="ionKeyboardDidShow",a="ionKeyboardDidHide";let d={},p={},e=!1;const t=()=>{d={},p={},e=!1},n=o=>{u(o),o.visualViewport&&(p=h(o.visualViewport),o.visualViewport.onresize=()=>{i(o),f()||w(o)?l(o):_(o)&&v(o)})},u=o=>{o.addEventListener("keyboardDidShow",C=>l(o,C)),o.addEventListener("keyboardDidHide",()=>v(o))},l=(o,C)=>{s(o,C),e=!0},v=o=>{c(o),e=!1},f=()=>!e&&d.width===p.width&&(d.height-p.height)*p.scale>150,w=o=>e&&!_(o),_=o=>e&&p.height===o.innerHeight,s=(o,C)=>{const T=new CustomEvent(r,{detail:{keyboardHeight:C?C.keyboardHeight:o.innerHeight-p.height}});o.dispatchEvent(T)},c=o=>{const C=new CustomEvent(a);o.dispatchEvent(C)},i=o=>{d=Object.assign({},p),p=h(o.visualViewport)},h=o=>({width:Math.round(o.width),height:Math.round(o.height),offsetTop:o.offsetTop,offsetLeft:o.offsetLeft,pageTop:o.pageTop,pageLeft:o.pageLeft,scale:o.scale})},9852:(M,y,m)=>{m.d(y,{c:()=>a});var r=m(3457);const a=g=>{let d,p,e;const t=()=>{d=()=>{e=!0,g&&g(!0)},p=()=>{e=!1,g&&g(!1)},null==r.w||r.w.addEventListener("keyboardWillShow",d),null==r.w||r.w.addEventListener("keyboardWillHide",p)};return t(),{init:t,destroy:()=>{null==r.w||r.w.removeEventListener("keyboardWillShow",d),null==r.w||r.w.removeEventListener("keyboardWillHide",p),d=p=void 0},isKeyboardVisible:()=>e}}},7741:(M,y,m)=>{m.d(y,{S:()=>a});const a={bubbles:{dur:1e3,circles:9,fn:(g,d,p)=>{const e=g*d/p-g+"ms",t=2*Math.PI*d/p;return{r:5,style:{top:9*Math.sin(t)+"px",left:9*Math.cos(t)+"px","animation-delay":e}}}},circles:{dur:1e3,circles:8,fn:(g,d,p)=>{const e=d/p,t=g*e-g+"ms",n=2*Math.PI*e;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":t}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(g,d)=>({r:6,style:{left:9-9*d+"px","animation-delay":-110*d+"ms"}})},lines:{dur:1e3,lines:8,fn:(g,d,p)=>({y1:14,y2:26,style:{transform:`rotate(${360/p*d+(d<p/2?180:-180)}deg)`,"animation-delay":g*d/p-g+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(g,d,p)=>({y1:12,y2:20,style:{transform:`rotate(${360/p*d+(d<p/2?180:-180)}deg)`,"animation-delay":g*d/p-g+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(g,d,p)=>({y1:17,y2:29,style:{transform:`rotate(${30*d+(d<6?180:-180)}deg)`,"animation-delay":g*d/p-g+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(g,d,p)=>({y1:12,y2:20,style:{transform:`rotate(${30*d+(d<6?180:-180)}deg)`,"animation-delay":g*d/p-g+"ms"}})}}},6659:(M,y,m)=>{m.r(y),m.d(y,{createSwipeBackGesture:()=>p});var r=m(5730),a=m(5062),g=m(1898);m(4349);const p=(e,t,n,u,l)=>{const v=e.ownerDocument.defaultView;let f=(0,a.i)(e);const _=o=>f?-o.deltaX:o.deltaX;return(0,g.createGesture)({el:e,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:o=>(f=(0,a.i)(e),(o=>{const{startX:E}=o;return f?E>=v.innerWidth-50:E<=50})(o)&&t()),onStart:n,onMove:o=>{const E=_(o)/v.innerWidth;u(E)},onEnd:o=>{const C=_(o),E=v.innerWidth,T=C/E,P=(o=>f?-o.velocityX:o.velocityX)(o),D=P>=0&&(P>.2||C>E/2),S=(D?1-T:T)*E;let L=0;if(S>5){const A=S/Math.abs(P);L=Math.min(A,540)}l(D,T<=0?.01:(0,r.l)(0,T,.9999),L)}})}},9776:(M,y,m)=>{m.d(y,{N:()=>t});var r=m(6738),a=m(3497),g=m(4377),d=m(6895);function p(n,u){1&n&&r._UZ(0,"ion-icon",4)}function e(n,u){if(1&n){const l=r.EpF();r.TgZ(0,"ion-item",2),r.NdJ("click",function(){const w=r.CHM(l).$implicit,_=r.oxw();return r.KtG(_.select(w.value))}),r._uU(1),r.YNc(2,p,1,0,"ion-icon",3),r.qZA()}if(2&n){const l=u.$implicit,v=r.oxw();r.xp6(1),r.hij(" ",l.text," "),r.xp6(1),r.Q6J("ngIf",v.selected==l.value)}}let t=(()=>{class n{constructor(l,v){this.popoverControler=l,this.langServ=v,this.langauges=[],this.selected=""}ngOnInit(){this.langauges=this.langServ.getLangauges(),this.selected=this.langServ.selected}select(l){this.langServ.setLangauge(l),this.popoverControler.dismiss()}}return n.\u0275fac=function(l){return new(l||n)(r.Y36(a.Dh),r.Y36(g.S))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-pop-lang"]],decls:2,vars:1,consts:[[1,"ion-padding"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["name","checkmark-outline",4,"ngIf"],["name","checkmark-outline"]],template:function(l,v){1&l&&(r.TgZ(0,"ion-content",0),r.YNc(1,e,3,2,"ion-item",1),r.qZA()),2&l&&(r.xp6(1),r.Q6J("ngForOf",v.langauges))},dependencies:[d.sg,d.O5,a.W2,a.gu,a.Ie]}),n})()},499:(M,y,m)=>{m.d(y,{H:()=>f});var r=m(5861),a=m(529),g=m(2340),d=m(510),p=m(7224),e=m(6738),t=m(3497),n=m(849),u=m(4338),l=m(6895);function v(w,_){if(1&w&&(e.TgZ(0,"ion-label",11)(1,"ion-note"),e._uU(2,"usd"),e.qZA(),e._uU(3," \xa0"),e.TgZ(4,"ion-text"),e._uU(5),e.qZA()()),2&w){const s=e.oxw();e.xp6(5),e.Oqu(s.amount)}}let f=(()=>{class w{constructor(s,c,i,h,o,C,E,T){this.alertController=s,this.storage=c,this.toast=i,this.loadingController=h,this.modalCtrl=o,this.api=C,this.httpClient=E,this.http=T,this.spinner=!1,this.data={},this.appInfoArr=[],this.apis="http://localhost:3000/transactions",d.hK.initialize({publishableKey:g.N.stripe.publishableKey})}httpPost(s){let c=new a.LE;return c=c.append("data",s),this.http.post(this.apis,s).pipe((0,p.P)())}httpPostCustomer(s,c,i,h,o,C){let E=new a.LE;return E=E.append("USER_INFO",s),E=E.append("amount",c),E=E.append("currency",i),E=E.append("description",h),E=E.append("descriptionEn",o),E=E.append("payment_method",C),this.http.post(this.apis+"/createcustomerstripe",E).pipe((0,p.P)())}getAppInfo(){this.storage.get("APPINFO").then(s=>{s&&(console.log(s),this.appInfoArr=s.appInfo,this.prepareTransaction())})}ngOnInit(){console.log("userinfo",this.USER_INFO),this.getAppInfo()}closeModel(){this.modalCtrl.dismiss()}prepareTransaction(){this.transaction={_id:"",orderId:"",auctId:"",userId:this.USER_INFO._id,currentStatus:0,typee:2,pay:this.amount,details:"\u0634\u062d\u0646 \u0645\u062d\u0641\u0638\u0629 \u062a\u0637\u0628\u064a\u0642  "+this.appInfoArr[0].appName,comment:"",fromAccount:"",toAccount:"",fromAccountTitle:"",toAccountTitle:"",paymentMethod:"",detailsEn:"Charge "+this.appInfoArr[0].appName+" wallet",walletId:this.USER_INFO.refNo,taxId:this.appInfoArr[0].taxId,vatFee:0,vatOrder:0},console.log("pre",this.transaction)}crateTrans(s){console.log("pre",this.transaction),this.api.createTransChargeWallet(this.transaction).subscribe(c=>{console.log(c),this.modalCtrl.dismiss([c,s],"done")},c=>{this.loadingController.dismiss(),console.log(c),console.log(c.error),this.handelTransSaveError()})}presentAlert(){var s=this;return(0,r.Z)(function*(){yield(yield s.alertController.create({header:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0627\u062b\u0646\u0627\u0621 \u0645\u0627 ",subHeader:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0627\u062b\u0646\u0627\u0621 \u0645\u0627 ",backdropDismiss:!1,message:"\u0644\u0645 \u062a\u062a\u0645 \u062d\u0641\u0638 \u0645\u0639\u0627\u0645\u0644\u062a\u0643 \u0627\u0644\u0645\u0627\u0644\u064a\u0629 \u0644\u062f\u064a\u0646\u0627 , \u0625\u0636\u063a\u0637 \u0639\u0644\u064a \u0645\u0648\u0627\u0641\u0642 \u0644\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 ",buttons:[{text:"\u0645\u0648\u0627\u0641\u0642",role:"ok",handler:i=>{s.crateTrans("success")}}]})).present()})()}handelTransSaveError(){this.presentAlert()}createCustomerStripe(){var s=this;return(0,r.Z)(function*(){try{s.presentLoadingWithOptions();const c=s.httpPostCustomer(JSON.stringify(s.USER_INFO),100*+s.amount,"usd",s.transaction.details,s.transaction.detailsEn,"card");let i,h,o;yield c.subscribe(E=>{i=E.keys.paymentIntent,h=E.keys.ephemeralKey,o=E.keys.customer,console.log("res f customer",E),s.presentPaymentSheet(o,i,h),s.loadingController.dismiss()},E=>{throw s.presentToast("somthing Went wrong","danger"),console.log("error",E),E})}catch(c){console.log("err",c),s.loadingController.dismiss(),s.presentToast("somthing Went wrong","danger")}})()}presentPaymentSheet(s,c,i){var h=this;return(0,r.Z)(function*(){d.hK.addListener(d.YG.Failed,()=>{console.log("PaymentSheetEventsEnum.Failed")}),d.hK.addListener(d.YG.Completed,()=>{console.log("PaymentSheetEventsEnum.Completed")}),yield d.hK.createPaymentSheet({paymentIntentClientSecret:c,customerId:s,customerEphemeralKeySecret:i,merchantDisplayName:h.appInfoArr[0].appName,withZipCode:!1});const o=yield d.hK.presentPaymentSheet();o.paymentResult===d.YG.Completed?console.log("Happy path paymentSheet created",o.paymentResult,o):o.paymentResult===d.YG.Failed&&(h.presentToast("somthing Went wrong","danger"),console.log("error"))})()}paymentSheet(){var s=this;return(0,r.Z)(function*(){try{d.hK.addListener(d.YG.Completed,()=>{});const c=s.httpPost(s.data);let i,h,o;yield c.subscribe(T=>{i=T.paymentIntent,h=T.ephemeralKey,o=T.customer},T=>{console.log("error",T)}),yield d.hK.createPaymentSheet({paymentIntentClientSecret:i,customerId:o,customerEphemeralKeySecret:h,merchantDisplayName:s.appInfoArr[0].appName});const E=yield d.hK.presentPaymentSheet();E.paymentResult===d.YG.Completed&&(s.crateTrans(E.paymentResult),console.log("Happy path",E.paymentResult,E))}catch(c){console.log("err",c),s.presentToast("somthing Went wrong","danger")}})()}presentLoadingWithOptions(s){var c=this;return(0,r.Z)(function*(){const i=yield c.loadingController.create({spinner:"bubbles",mode:"ios",duration:5e3,message:s,translucent:!0,backdropDismiss:!1});yield i.present(),yield i.onDidDismiss()})()}presentToast(s,c){var i=this;return(0,r.Z)(function*(){(yield i.toast.create({message:s,duration:2e3,color:c,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})()}}return w.\u0275fac=function(s){return new(s||w)(e.Y36(t.Br),e.Y36(n.K),e.Y36(t.yF),e.Y36(t.HT),e.Y36(t.IN),e.Y36(u.D),e.Y36(a.JF),e.Y36(a.eN))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-stripe-charge-wallet"]],decls:33,vars:3,consts:[["color","light"],["slot","start"],["fill","clear",3,"click"],["name","close-circle-outline","color","dark"],["dir","rtl"],[1,"ion-margin-top"],["button","",3,"click"],["slot","start","name","card-outline","color","dark"],["slot","end",4,"ngIf"],["button","","disabled","true",1,"ion-margin-top",3,"click"],["slot","start","name","logo-google","color","danger"],["slot","end"],["slot","start","name","logo-apple"]],template:function(s,c){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),e.NdJ("click",function(){return c.closeModel()}),e._UZ(4,"ion-icon",3),e.qZA()(),e._UZ(5,"ion-title"),e.qZA()(),e.TgZ(6,"ion-content",4)(7,"ion-list",5)(8,"ion-item",6),e.NdJ("click",function(){return c.createCustomerStripe()}),e._UZ(9,"ion-icon",7),e.TgZ(10,"ion-label"),e._uU(11,"\u062f\u0641\u0639 \u0639\u0628\u0631 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 "),e.qZA(),e.YNc(12,v,6,1,"ion-label",8),e.qZA(),e.TgZ(13,"ion-item",9),e.NdJ("click",function(){return c.paymentSheet()}),e._UZ(14,"ion-icon",10),e.TgZ(15,"ion-label"),e._uU(16," \u062f\u0641\u0639 \u0639\u0628\u0631 \u0642\u0648\u0642\u0644 \u0628\u0627\u064a "),e.qZA(),e.TgZ(17,"ion-label",11)(18,"ion-note"),e._uU(19,"usd"),e.qZA(),e._uU(20," \xa0 "),e.TgZ(21,"ion-text"),e._uU(22),e.qZA()()(),e.TgZ(23,"ion-item",9),e.NdJ("click",function(){return c.paymentSheet()}),e._UZ(24,"ion-icon",12),e.TgZ(25,"ion-label"),e._uU(26," \u062f\u0641\u0639 \u0639\u0628\u0631 \u0627\u0628\u0644 \u0628\u0627\u064a "),e.qZA(),e.TgZ(27,"ion-label",11)(28,"ion-note"),e._uU(29,"usd"),e.qZA(),e._uU(30," \xa0 "),e.TgZ(31,"ion-text"),e._uU(32),e.qZA()()()()()),2&s&&(e.xp6(12),e.Q6J("ngIf",0==c.spinner),e.xp6(10),e.Oqu(c.amount),e.xp6(10),e.Oqu(c.amount))},dependencies:[l.O5,t.YG,t.Sm,t.W2,t.Gu,t.gu,t.Ie,t.Q$,t.q_,t.uN,t.yW,t.wd,t.sr]}),w})()},3331:(M,y,m)=>{m.d(y,{E:()=>e});var r=m(5861),a=m(6738),g=m(3497),d=m(6895);function p(t,n){if(1&t&&(a.TgZ(0,"ion-col",10)(1,"ion-label")(2,"ion-text"),a._uU(3),a.qZA(),a._uU(4),a.qZA()()),2&t){const u=n.$implicit;a.xp6(3),a.hij("",u.no," -"),a.xp6(1),a.Oqu(u.term)}}let e=(()=>{class t{constructor(u){this.modalController=u,this.terms=[{no:1,term:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem quasi, quibusdam ipsa nobis aut sunt ut! Fuga optio nobis corporis, minus possimus delectus! Alias ratione a quaerat quae expedita doloremque!"},{no:1,term:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem quasi, quibusdam ipsa nobis aut sunt ut! Fuga optio nobis corporis, minus possimus delectus! Alias ratione a quaerat quae expedita doloremque!"},{no:1,term:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem quasi, quibusdam ipsa nobis aut sunt ut! Fuga optio nobis corporis, minus possimus delectus! Alias ratione a quaerat quae expedita doloremque!"}]}ngOnInit(){}ok(u){var l=this;return(0,r.Z)(function*(){yield l.modalController.dismiss(u)})()}}return t.\u0275fac=function(u){return new(u||t)(a.Y36(g.IN))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-terms"]],decls:19,vars:1,consts:[["dir","rtl"],["lines","none"],["fill","clear","slot","end",3,"click"],["name","close"],[1,"ion-margin"],["size","12",1,"ion-text-center"],["size","12",4,"ngFor","ngForOf"],[1,"ion-justify-content-center"],["size","8",1,"ion-text-center"],["expand","block",3,"click"],["size","12"]],template:function(u,l){1&u&&(a.TgZ(0,"ion-content",0)(1,"ion-item",1)(2,"ion-button",2),a.NdJ("click",function(){return l.ok("disAgree")}),a._UZ(3,"ion-icon",3),a.qZA()(),a.TgZ(4,"ion-grid")(5,"ion-row",4)(6,"ion-col",5)(7,"ion-label")(8,"h4"),a._uU(9," \u0627\u0644\u0623\u062d\u0643\u0627\u0645 \u0648\u0627\u0644\u0634\u0631\u0648\u0637"),a.qZA()()()(),a.TgZ(10,"ion-row"),a.YNc(11,p,5,2,"ion-col",6),a.qZA()()(),a.TgZ(12,"ion-footer")(13,"ion-grid")(14,"ion-row",7)(15,"ion-col",8)(16,"ion-button",9),a.NdJ("click",function(){return l.ok("agree")}),a.TgZ(17,"ion-label"),a._uU(18," \u0645\u0648\u0627\u0641\u0642 "),a.qZA()()()()()()),2&u&&(a.xp6(11),a.Q6J("ngForOf",l.terms))},dependencies:[d.sg,g.YG,g.wI,g.W2,g.fr,g.jY,g.gu,g.Ie,g.Q$,g.Nd,g.yW]}),t})()},7727:(M,y,m)=>{m.d(y,{l:()=>f});var r="https://js.stripe.com/v3",a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,g="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",t=null,u=function(_,s,c){if(null===_)return null;var i=_.apply(void 0,s);return function(_,s){!_||!_._registerWrapper||_._registerWrapper({name:"stripe-js",version:"1.31.0",startTime:s})}(i,c),i},l=Promise.resolve().then(function(){return _=null,null!==t||(t=new Promise(function(s,c){if(typeof window>"u")s(null);else if(window.Stripe&&_&&console.warn(g),window.Stripe)s(window.Stripe);else try{var i=function(){for(var _=document.querySelectorAll('script[src^="'.concat(r,'"]')),s=0;s<_.length;s++){var c=_[s];if(a.test(c.src))return c}return null}();i&&_?console.warn(g):i||(i=function(_){var s=_&&!_.advancedFraudSignals?"?advancedFraudSignals=false":"",c=document.createElement("script");c.src="".concat(r).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(c),c}(_)),i.addEventListener("load",function(){window.Stripe?s(window.Stripe):c(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){c(new Error("Failed to load Stripe.js"))})}catch(h){return void c(h)}})),t;var _}),v=!1;l.catch(function(w){v||console.warn(w)});var f=function(){for(var _=arguments.length,s=new Array(_),c=0;c<_;c++)s[c]=arguments[c];v=!0;var i=Date.now();return l.then(function(h){return u(h,s,i)})}}}]);